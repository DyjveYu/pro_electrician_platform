<view class="page-container">
  <!-- 服务类型 -->
  <view class="form-section">
    <view class="section-title">选择服务类型</view>
    <view class="service-list">
      <block wx:for="{{serviceTypes}}" wx:key="id">
        <view class="service-item {{selectedServiceType && selectedServiceType.id === item.id ? 'active' : ''}}" 
              data-index="{{index}}" 
              bindtap="selectServiceType">
          <text>{{item.name}}</text>
        </view>
      </block>
    </view>
  </view>

  <!-- 问题描述 -->
  <view class="form-section">
    <view class="section-title">问题描述</view>
    <textarea placeholder="请描述您遇到的问题..." 
              value="{{description}}" 
              bindinput="onDescriptionInput" 
              maxlength="200"
              class="desc-textarea"/>
  </view>

  <!-- 上传图片 -->
  <view class="form-section">
    <view class="section-title">上传图片（选填）</view>
    <view class="image-list">
      <block wx:for="{{images}}" wx:key="index">
        <image src="{{item}}" class="uploaded-image" mode="aspectFill" />
      </block>
      <view class="add-image" bindtap="chooseImage">+</view>
    </view>
  </view>

  <!-- 联系人信息 -->
  <view class="form-section">
    <view class="section-title">联系人信息</view>
    <view class="form-item">
      <text class="label">联系人姓名</text>
      <input type="text" placeholder="请输入姓名" value="{{contactName}}" bindinput="onContactNameInput" />
    </view>
    <view class="form-item">
      <text class="label">联系电话</text>
      <input type="number" placeholder="请输入手机号" value="{{contactPhone}}" bindinput="onContactPhoneInput" />
    </view>
  </view>

  <!-- 服务地址（地图选择） -->
  <view class="form-section">
    <view class="section-title">服务地址</view>
    <view class="form-item" bindtap="chooseLocation">
      <text class="label">地址</text>
      <view class="value">
        <text wx:if="{{address}}">{{address}}</text>
        <text wx:else class="placeholder">点击选择地址</text>
      </view>
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="form-section submit-section">
    <button class="submit-btn" bindtap="submitOrder" loading="{{submitting}}">提交订单</button>
  </view>
</view>
