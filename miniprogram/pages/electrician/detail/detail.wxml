<!--pages/electrician/detail/detail.wxml-->
<view class="container">
  <view wx:if="{{!loading && electrician}}">
    <!-- ç”µå·¥åŸºæœ¬ä¿¡æ¯ -->
    <view class="electrician-card">
      <view class="electrician-header">
        <view class="avatar-section" bindtap="previewAvatar">
          <image 
            class="avatar"
            src="{{electrician.avatar || '/images/default-avatar.png'}}"
            mode="aspectFill"
          ></image>
        </view>
        
        <view class="electrician-info">
          <view class="electrician-name">{{electrician.name}}</view>
          <view class="electrician-phone">{{electrician.phone}}</view>
          <view class="electrician-rating" wx:if="{{electrician.rating}}">
            <text class="rating-text">è¯„åˆ†ï¼š{{electrician.rating}}åˆ†</text>
          </view>
        </view>
      </view>
      
      <!-- ç»Ÿè®¡ä¿¡æ¯ -->
      <view class="stats-section">
        <view class="stats-item">
          <text class="stats-value">{{electrician.experience || 0}}å¹´</text>
          <text class="stats-label">å·¥ä½œå¹´é™</text>
        </view>
        <view class="stats-item">
          <text class="stats-value">{{electrician.serviceCount || 0}}</text>
          <text class="stats-label">æœåŠ¡æ¬¡æ•°</text>
        </view>
        <view class="stats-item">
          <text class="stats-value">{{electrician.completionRate || 0}}%</text>
          <text class="stats-label">å®Œæˆç‡</text>
        </view>
      </view>
    </view>

    <!-- ä¸“ä¸šæŠ€èƒ½ -->
    <view class="section" wx:if="{{electrician.skills && electrician.skills.length > 0}}">
      <view class="section-title">ä¸“ä¸šæŠ€èƒ½</view>
      <view class="skills-list">
        <text 
          class="skill-tag"
          wx:for="{{electrician.skills}}"
          wx:key="*this"
        >
          {{item}}
        </text>
      </view>
    </view>

    <!-- æœåŠ¡ä»‹ç» -->
    <view class="section" wx:if="{{electrician.description}}">
      <view class="section-title">æœåŠ¡ä»‹ç»</view>
      <view class="description-text">{{electrician.description}}</view>
    </view>

    <!-- è®¤è¯ä¿¡æ¯ -->
    <view class="section">
      <view class="section-title">è®¤è¯ä¿¡æ¯</view>
      <view class="cert-info">
        <view class="cert-item">
          <text class="cert-label">ç”µå·¥è¯å·ï¼š</text>
          <text class="cert-value">{{electrician.certificateNumber || 'æš‚æ— '}}</text>
        </view>
        <view class="cert-item">
          <text class="cert-label">è¯ä¹¦æœ‰æ•ˆæœŸï¼š</text>
          <text class="cert-value">{{electrician.certificateExpiry || 'æš‚æ— '}}</text>
        </view>
        <view class="cert-item">
          <text class="cert-label">æœåŠ¡åŒºåŸŸï¼š</text>
          <text class="cert-value">{{electrician.serviceArea || 'æš‚æ— '}}</text>
        </view>
      </view>
    </view>

    <!-- è”ç³»æŒ‰é’® -->
    <view class="contact-section">
      <button class="contact-btn" bindtap="contactElectrician">
        è”ç³»ç”µå·¥
      </button>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- ç”µå·¥ä¸å­˜åœ¨ -->
  <view class="empty-state" wx:if="{{!loading && !electrician}}">
    <text class="empty-icon">ğŸ”§</text>
    <text class="empty-text">ç”µå·¥ä¿¡æ¯ä¸å­˜åœ¨</text>
  </view>
</view>