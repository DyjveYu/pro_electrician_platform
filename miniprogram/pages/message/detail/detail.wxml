<!--pages/message/detail/detail.wxml-->
<view class="container">
  <view wx:if="{{!loading && message}}" class="message-detail">
    <!-- æ¶ˆæ¯å¤´éƒ¨ -->
    <view class="message-header">
      <view class="message-icon">
        <text wx:if="{{message.type === 'order'}}">ğŸ“‹</text>
        <text wx:elif="{{message.type === 'system'}}">ğŸ“¢</text>
        <text wx:else>ğŸ’¬</text>
      </view>
      <view class="message-info">
        <view class="message-title">{{message.title}}</view>
        <view class="message-time">{{message.createTime}}</view>
      </view>
    </view>

    <!-- æ¶ˆæ¯å†…å®¹ -->
    <view class="message-content">
      <text class="content-text">{{message.content}}</text>
    </view>

    <!-- ç›¸å…³è®¢å• -->
    <view class="related-order" wx:if="{{message.orderId}}">
      <view class="section-title">ç›¸å…³è®¢å•</view>
      <view class="order-card" bindtap="viewOrder" data-id="{{message.orderId}}">
        <view class="order-info">
          <text class="order-number">è®¢å•å·ï¼š{{message.orderNumber}}</text>
          <text class="order-status">{{message.orderStatus}}</text>
        </view>
        <text class="view-order">æŸ¥çœ‹è®¢å• ></text>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æ¶ˆæ¯ä¸å­˜åœ¨ -->
  <view class="empty-state" wx:if="{{!loading && !message}}">
    <text class="empty-icon">ğŸ’¬</text>
    <text class="empty-text">æ¶ˆæ¯ä¸å­˜åœ¨</text>
  </view>
</view>